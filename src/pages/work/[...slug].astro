---
import { type CollectionEntry, getCollection, render } from "astro:content";
import Base from "../../layouts/Base.astro";

export async function getStaticPaths() {
    const items = await getCollection("work");
    return items.map((it) => ({ params: { slug: it.id }, props: it }));
}

type Props = CollectionEntry<"work">;
const work = Astro.props as Props;
const { Content } = await render(work);
---

<Base title={work.data.title} description={work.data.summary}>
    <article>
        <div class="article-header">
            <h1>{work.data.title}</h1>
            <p class="article-meta">{work.data.summary}</p>
        </div>
        <hr />
        <section class="prose">
            <Content />
        </section>
    </article>
</Base>

