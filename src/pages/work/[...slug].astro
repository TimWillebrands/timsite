---
import { type CollectionEntry, getCollection, render } from "astro:content";
import Base from "../../layouts/Base.astro";

export async function getStaticPaths() {
    const items = await getCollection("work");
    return items.map((it) => ({ params: { slug: it.id }, props: it }));
}

type Props = CollectionEntry<"work">;
const work = Astro.props as Props;
const { Content } = await render(work);
---

<Base title={work.data.title} description={work.data.summary}>
    <article>
        <h1>{work.data.title}</h1>
        <p style="color: rgb(var(--gray)); margin-top:0.5em;">
            {work.data.summary}
        </p>
        <hr />
        <section class="prose">
            <Content />
        </section>
    </article>
</Base>
