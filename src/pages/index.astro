---
import Minimal from "../layouts/Minimal.astro";
import { SITE_DESCRIPTION, SITE_TITLE } from "../consts";

const ctaClasses =
    "block border-3 border-black rounded-xl py-[0.8em] px-[1.2em] text-center font-medium text-black no-underline transition-colors duration-200 hover:bg-gray-100";
const featuredLinkClasses =
    "block border-3 border-black rounded-xl p-4 text-black no-underline transition-colors duration-200 hover:bg-gray-100 hover:underline";
---

<Minimal title={SITE_TITLE} description={SITE_DESCRIPTION}>
    <div
        class="mx-auto flex flex-row min-h-screen max-w-[1200px]
        place-items-center gap-12 px-6 py-8 justify-between
        md:px-8 md:py-16 text-justify"
    >
        <div class="grow max-w-[30rem]">
            <h1 transition:name="title" class="mb-4 text-7xl text-center">
                Tim Willebrands ⚙️
            </h1>
            <h2 class="!text-3xl font-semibold text-center">
                Builder of Maintainable Systems
            </h2>
            <h2 class="mb-4 !text-3xl font-semibold text-center">
                Tech Lead & Architect
            </h2>
            <p class="text-lg leading-[1.7]">
                I design and ship robust, developer-friendly platforms. Minimal
                overhead. Clean abstractions. Systems that scale with the team.
            </p>
            <div class="flex flex-row justify-between">
                <span class="text-lg font-semibold">Email</span>
                <span class="text-lg font-semibold">LinkedIn</span>
                <span class="text-lg font-semibold">GitHub</span>
                <span class="text-lg font-semibold">Twitter</span>
            </div>
        </div>
        <div class="border-r-2 h-48"></div>
        <div class="grow flex flex-col gap-8 max-w-[30rem]">
            <nav class="flex flex-col gap-4">
                <a href="/work" class={ctaClasses}>My Work</a>
                <a href="/writing" class={ctaClasses}>My Writings</a>
            </nav>
            <section aria-labelledby="featured">
                <h3 id="featured" class="mb-[0.75em] text-[1.4em]">
                    My coolest stuff
                </h3>
                <ul class="flex list-none flex-col gap-4 p-0">
                    <li>
                        <a href="/work/auxin" class={featuredLinkClasses}>
                            Auxin - Federated GraphQL Gateway
                        </a>
                    </li>
                    <li>
                        <a
                            href="/work/proompting-party"
                            class={featuredLinkClasses}
                        >
                            proompting.party - Live demo infrastructure
                        </a>
                    </li>
                    <li>
                        <a
                            href="/work/ecommerce-migration"
                            class={featuredLinkClasses}
                        >
                            Automating a 10,000-item e-commerce migration
                        </a>
                    </li>
                </ul>
            </section>
        </div>
        <svg
            class="background"
            width="800"
            height="600"
            x-data="{
            t: 0,
            s: 0,
            c: 0,
            get rx() { return (75 + this.s) + '%' },
            get ry() { return (45 + this.s) + '%' },
            get cx() { return (0 + this.c) + '%' },
            get cy() { return (0 + this.c) + '%' },
            get r() { return (25 + this.s) + '%' },
            get style() {
                return `filter: hue-rotate(${this.c}deg) saturate(50%)`
            }
        }"
            x-init="async () => {
            while(true) {
                await $nextTick();
                t += Math.random() * 0.01;
                s = Math.sin(t) * 10;
                c = Math.cos(t) * 10;
            }
        }"
            :style="style"
            transition:animate="none"
        >
            <linearGradient id="g01">
                <stop stop-color="#eaf0f0"></stop>
                <stop stop-color="#fef3f2" offset="1"></stop>
            </linearGradient>
            <linearGradient id="g02">
                <stop stop-color="#d5e8f3" offset=".2"></stop>
                <stop stop-color="#fdfded" offset="1"></stop>
            </linearGradient>
            <g>
                <rect width="100%" height="100%" fill="#f9f9f9"></rect>
                <ellipse :rx="rx" :ry="ry" fill="url(#g01)"></ellipse>
                <circle :r="r" :cx="cx" :cy="cy" fill="url(#g02)"></circle>
            </g>
        </svg>
    </div>

    <style>
        /* Background stuff inspired by: FrontendMasters.com */
        .background {
            width: 100%;
            height: 100%;
            position: absolute;
            top: 0;
            left: 0;
            z-index: -1;
        }

        g {
            /*filter: url(#grain);*/
        }

        rect,
        ellipse,
        circle {
            transform-box: fill-box;
            transform-origin: 50%;
        }

        ellipse,
        circle {
            cx: 50%;
            cy: 50%;
            filter: blur(calc(4vmin + 4vmax));
        }

        .background ellipse {
            translate: -10% -5%;
            rotate: -22.5deg;
        }
        .background circle {
            cy: 57.5%;
            rotate: 45deg;
        }
    </style>
</Minimal>
